$(function(){var n=function(d,a){var j=null,c=d[0].getContext("2d"),m=2*Math.PI,b,k,e,f,h=this;this.onChange=function(){};this.onCancel=function(){};this.onRelease=function(){};this.val=function(i){if(null!=i)a.stopper&&(i=Math.max(Math.min(i,a.max),a.min)),j=i,this.onChange(i),this.draw(i);else{var h,i=h=Math.atan2(b-e,-(k-f-a.width/2));0>h&&(i=h+m);i=Math.round(i*(a.max-a.min)/m)+a.min;return i>a.max?a.max:i}};this.change=function(i){a.stopper&&(i=Math.max(Math.min(i,a.max),a.min));this.onChange(i);
this.draw(i)};this.angle=function(i){return(i-a.min)*m/(a.max-a.min)};this.draw=function(i){var e=this.angle(i),h=1.5*Math.PI,g=h,f=h+this.angle(j),k=g+e,d=a.width/2,b=d*a.thickness,s=n.getCgColor(a.cgColor),A;c.clearRect(0,0,a.width,a.width);c.lineWidth=b;if(!a.draw(e,j,a,c)){for(A=0;A<a.ticks;A++){c.beginPath();c.strokeStyle=e>2*Math.PI/a.ticks*A&&a.tickColorizeValues?a.fgColor:a.tickColor;var o=2*Math.PI/a.ticks*A-0.5*Math.PI;c.arc(d,d,d-b-a.tickLength,o,o+a.tickWidth,!1);c.stroke()}a.cursor&&
(h=f-0.3)&&(f+=0.3)&&(g=k-0.3)&&(k+=0.3);switch(a.skin){case "default":c.beginPath();c.strokeStyle=a.bgColor;c.arc(d,d,d-b/2,0,m,!0);c.stroke();a.displayPrevious&&(c.beginPath(),c.strokeStyle=j==i?a.fgColor:s,c.arc(d,d,d-b/2,h,f,!1),c.stroke());c.beginPath();c.strokeStyle=a.fgColor;c.arc(d,d,d-b/2,g,k,!1);c.stroke();break;case "tron":a.displayPrevious&&(c.beginPath(),c.strokeStyle=j==i?a.fgColor:s,c.arc(d,d,d-b,h,f,!1),c.stroke()),c.beginPath(),c.strokeStyle=a.fgColor,c.arc(d,d,d-b,g,k,!1),c.stroke(),
c.lineWidth=2,c.beginPath(),c.strokeStyle=a.fgColor,c.arc(d,d,d-b+1+2*b/3,0,2*Math.PI,!1),c.stroke()}}};this.capture=function(a){switch(a.type){case "mousemove":case "mousedown":b=a.pageX;k=a.pageY;break;case "touchmove":case "touchstart":b=a.originalEvent.touches[0].pageX,k=a.originalEvent.touches[0].pageY}this.change(this.val())};this.cancel=function(){h.val(j);h.onCancel()};this.startDrag=function(i){var k=d.position(),r=$(document);e=k.left+a.width/2;f=k.top;this.capture(i);r.bind("mousemove.dial touchmove.dial",
function(g){h.capture(g)}).bind("keyup.dial",function(g){27===g.keyCode&&(r.unbind("mouseup.dial mousemove.dial keyup.dial"),h.cancel())}).bind("mouseup.dial touchend.dial",function(){r.unbind("mousemove.dial touchmove.dial mouseup.dial touchend.dial keyup.dial");h.val(h.val());h.onRelease(j)})}};n.getCgColor=function(d){d=d.substring(1,7);d=[parseInt(d.substring(0,2),16),parseInt(d.substring(2,4),16),parseInt(d.substring(4,6),16)];return"rgba("+d[0]+","+d[1]+","+d[2]+",.5)"};$.fn.knob=$.fn.dial=
function(d){return this.each(function(){var a=$(this),j;if(a.data("dialed"))return a;a.data("dialed",!0);j=$.extend({min:a.data("min")||0,max:a.data("max")||100,stopper:!0,readOnly:a.data("readonly"),cursor:a.data("cursor"),thickness:a.data("thickness")||0.35,width:a.data("width")||200,displayInput:null==a.data("displayinput")||a.data("displayinput"),displayPrevious:a.data("displayprevious"),fgColor:a.data("fgcolor")||"#87CEEB",cgColor:a.data("cgcolor")||a.data("fgcolor")||"#87CEEB",bgColor:a.data("bgcolor")||
"#EEEEEE",tickColor:a.data("tickColor")||a.data("fgcolor")||"#DDDDDD",ticks:a.data("ticks")||0,tickLength:a.data("tickLength")||0,tickWidth:a.data("tickWidth")||0.02,tickColorizeValues:a.data("tickColorizeValues")||!0,skin:a.data("skin")||"default",draw:function(){},change:function(){},release:function(){}},d);var c=$('<canvas width="'+j.width+'" height="'+j.width+'"></canvas>'),m=$("<div style=width:"+j.width+'px;display:inline;"></div>'),b,k=a.val(),e=function(){j.displayInput&&a.css({width:j.width/
2+"px",position:"absolute","margin-top":5*j.width/14+"px","margin-left":"-"+3*j.width/4+"px","font-size":j.width/4+"px",border:"none",background:"none","font-family":"Arial","font-weight":"bold","text-align":"center",color:j.fgColor,padding:"0px","-webkit-appearance":"none"})||a.css({width:"0px",visibility:"hidden"})};a.wrap(m).before(c);e();b=new n(c,j);k||(k=j.min);a.val(k);b.val(k);b.onRelease=function(e){j.release(e,a)};b.onChange=function(e){a.val(e);j.change(e)};a.bind("change",function(){b.val(a.val())});
if(j.readOnly)a.attr("readonly","readonly");else{c.bind("mousedown touchstart",function(a){a.preventDefault();b.startDrag(a)}).bind("mousewheel DOMMouseScroll",mw=function(e){e.preventDefault();var g=e.originalEvent,e=g.detail||g.wheelDeltaX,g=g.detail||g.wheelDeltaY,e=parseInt(a.val())+(0<e||0<g?1:0>e||0>g?-1:0);b.val(e)});var f,h,i=1,F={37:-1,38:1,39:1,40:-1};a.bind("configure",function(i,g){for(var d in g)j[d]=g[d];e();b.val(a.val())}).bind("keydown",function(e){var g=e.keyCode;f=parseInt(String.fromCharCode(g));
isNaN(f)&&(13!==g&&8!==g&&9!==g&&189!==g&&e.preventDefault(),-1<$.inArray(g,[37,38,39,40])&&(b.change(parseInt(a.val())+F[g]*i),h=window.setTimeout(function(){20>i&&i++},50),e.preventDefault()))}).bind("keyup",function(e){isNaN(f)?h?(window.clearTimeout(h),h=null,i=1,b.val(a.val()),b.onRelease(a.val(),a)):13===e.keyCode&&b.onRelease(a.val(),a):a.val()>j.max&&a.val(j.max)||a.val()<j.min&&a.val(j.min)}).bind("mousewheel DOMMouseScroll",mw)}}).parent()}});var speakWorker;try{speakWorker=new Worker("lib/speak/speakWorker.js")}catch(e$$19){console.log("speak.js warning: no worker support"),window.speak_error=!0}
function speak(n,d){function a(a){function e(e,d){for(var i=0,b=0;d;)i+=a[e]<<b,b+=8,e++,d--;return i}if(1!=e(20,2))throw"Invalid compression code, not PCM";if(1!=e(22,2))throw"Invalid number of channels, not 1";return{sampleRate:e(24,4),bitsPerSample:e(34,2),samples:a.subarray(44)}}function j(d){var e=Date.now();a(d);document.getElementById("spinner")&&(spinner=document.getElementById("spinner"),spinner.parentNode.removeChild(spinner));for(var f=document.getElementById("audio"),h="",i=0,b=0,m=0;m<
d.length;m++){i=i<<8|d[m];for(b+=8;6<=b;)var g=i>>b-6&63,b=b-6,h=h+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[g]}2==b?(h+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(i&3)<<4],h+="=="):4==b&&(h+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(i&15)<<2],h+="=");f.innerHTML='<audio id="player" src="data:audio/x-wav;base64,'+h+'">';document.getElementById("player").play();c&&console.log("speak.js: wav processing took "+(Date.now()-e).toFixed(2)+
" ms")}var c=!1;if(d&&d.noWorker){var m=Date.now(),b=generateSpeech(n,d);c&&console.log("speak.js: processing took "+(Date.now()-m).toFixed(2)+" ms");j(b)}else m=Date.now(),speakWorker.onmessage=function(a){c&&console.log("speak.js: worker processing took "+(Date.now()-m).toFixed(2)+" ms");j(a.data)},speakWorker.postMessage({text:n,args:d})};var JSON;JSON||(JSON={});
(function(){function n(a){return 10>a?"0"+a:a}function d(a){c.lastIndex=0;return c.test(a)?'"'+a.replace(c,function(a){var e=k[a];return"string"===typeof e?e:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function a(k,h){var i,c,j,g,v=m,n,q=h[k];q&&"object"===typeof q&&"function"===typeof q.toJSON&&(q=q.toJSON(k));"function"===typeof e&&(q=e.call(h,k,q));switch(typeof q){case "string":return d(q);case "number":return isFinite(q)?""+q:"null";case "boolean":case "null":return""+q;
case "object":if(!q)return"null";m+=b;n=[];if("[object Array]"===Object.prototype.toString.apply(q)){g=q.length;for(i=0;i<g;i+=1)n[i]=a(i,q)||"null";j=0===n.length?"[]":m?"[\n"+m+n.join(",\n"+m)+"\n"+v+"]":"["+n.join(",")+"]";m=v;return j}if(e&&"object"===typeof e){g=e.length;for(i=0;i<g;i+=1)"string"===typeof e[i]&&(c=e[i],(j=a(c,q))&&n.push(d(c)+(m?": ":":")+j))}else for(c in q)Object.prototype.hasOwnProperty.call(q,c)&&(j=a(c,q))&&n.push(d(c)+(m?": ":":")+j);j=0===n.length?"{}":m?"{\n"+m+n.join(",\n"+
m)+"\n"+v+"}":"{"+n.join(",")+"}";m=v;return j}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+n(this.getUTCMonth()+1)+"-"+n(this.getUTCDate())+"T"+n(this.getUTCHours())+":"+n(this.getUTCMinutes())+":"+n(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var j=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m,b,k={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},e;"function"!==typeof JSON.stringify&&(JSON.stringify=function(d,h,i){var k;b=m="";if(typeof i==="number")for(k=0;k<i;k=k+1)b=b+" ";else typeof i==="string"&&(b=i);if((e=h)&&typeof h!=="function"&&(typeof h!=="object"||typeof h.length!=="number"))throw Error("JSON.stringify");return a("",
{"":d})});"function"!==typeof JSON.parse&&(JSON.parse=function(a,e){function d(a,g){var k,b,c=a[g];if(c&&typeof c==="object")for(k in c)if(Object.prototype.hasOwnProperty.call(c,k)){b=d(c,k);b!==void 0?c[k]=b:delete c[k]}return e.call(a,g,c)}var k,a=""+a;j.lastIndex=0;j.test(a)&&(a=a.replace(j,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){k=eval("("+a+")");return typeof e==="function"?d({"":k},""):k}throw new SyntaxError("JSON.parse");})})();(function(n){if(!n.Base64){var d=function(a){for(var e={},d=0,i=a.length;d<i;d++)e[a.charAt(d)]=d;return e}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),a=function(a){a=a.charCodeAt(0)<<16|a.charCodeAt(1)<<8|a.charCodeAt(2);return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>18)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>12&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>6&63)+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a&63)},j=function(e){if(e.match(/[^\x00-\xFF]/))throw"unsupported character found";for(var d=0;e.length%3;)e+="\x00",d++;e=e.replace(/[\x00-\xFF]{3}/g,a);if(!d)return e;for(e=e.substr(0,e.length-d);d--;)e+="=";return e},c=n.btoa||j,m=function(a){a=d[a.charAt(0)]<<18|d[a.charAt(1)]<<12|d[a.charAt(2)]<<6|d[a.charAt(3)];return String.fromCharCode(a>>16)+String.fromCharCode(a>>8&255)+String.fromCharCode(a&255)},b=function(a){for(var a=
a.replace(/[^A-Za-z0-9\+\/]/g,""),e=0;a.length%4;)a+="A",e++;a=a.replace(/[A-Za-z0-9\+\/]{4}/g,m);2<=e&&(a=a.substring(0,a.length-[0,0,2,1][e]));return a},k=n.atob||b,e=/[^\x00-\x7F]/g,f=function(a){a=a.charCodeAt(0);return 2048>a?String.fromCharCode(192|a>>>6)+String.fromCharCode(128|a&63):String.fromCharCode(224|a>>>12&15)+String.fromCharCode(128|a>>>6&63)+String.fromCharCode(128|a&63)},h=function(a){return a.replace(e,f)},i=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,
F=function(a){var e=a.charCodeAt(0),d=a.charCodeAt(1);if(224>e)return String.fromCharCode((e&31)<<6|d&63);a=a.charCodeAt(2);return String.fromCharCode((e&15)<<12|(d&63)<<6|a&63)},r=function(a){return a.replace(i,F)};n.Base64={fromBase64:b,toBase64:j,atob:k,btoa:c,utob:h,btou:r,encode:function(a){return c(h(a))},encodeURI:function(a){return c(h(a)).replace(/[+\/]/g,function(a){return"+"==a?"-":"_"}).replace(/=+$/,"")},decode:function(a){return r(k(a.replace(/[-_]/g,function(a){return"-"==a?"+":"/"})))}}}})(this);(function(){var n,d,a=null,j,c,m,b,k,e,f,h,i,F,r,g,v,K,q=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],V=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],A=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],S=[16,17,18,0,8,7,9,6,10,
5,11,4,12,3,13,2,14,1,15],L=function(){this.list=this.next=null},B=function(){this.n=this.b=this.e=0;this.t=null},W=function(a,e,d,i,k,b){this.BMAX=16;this.N_MAX=288;this.status=0;this.root=null;this.m=0;var c=Array(this.BMAX+1),h,j,m,g,p,f,n,o=Array(this.BMAX+1),r,s,t,q=new B,z=Array(this.BMAX);g=Array(this.N_MAX);var D,x=Array(this.BMAX+1),A,v,F;F=this.root=null;for(p=0;p<c.length;p++)c[p]=0;for(p=0;p<o.length;p++)o[p]=0;for(p=0;p<z.length;p++)z[p]=null;for(p=0;p<g.length;p++)g[p]=0;for(p=0;p<x.length;p++)x[p]=
0;h=256<e?a[256]:this.BMAX;r=a;s=0;p=e;do c[r[s]]++,s++;while(0<--p);if(c[0]==e)this.root=null,this.status=this.m=0;else{for(f=1;f<=this.BMAX&&0==c[f];f++);n=f;b<f&&(b=f);for(p=this.BMAX;0!=p&&0==c[p];p--);m=p;b>p&&(b=p);for(A=1<<f;f<p;f++,A<<=1)if(0>(A-=c[f])){this.status=2;this.m=b;return}if(0>(A-=c[p]))this.status=2,this.m=b;else{c[p]+=A;x[1]=f=0;r=c;s=1;for(t=2;0<--p;)x[t++]=f+=r[s++];r=a;p=s=0;do if(0!=(f=r[s++]))g[x[f]++]=p;while(++p<e);e=x[m];x[0]=p=0;r=g;s=0;g=-1;D=o[0]=0;t=null;for(v=0;n<=
m;n++)for(a=c[n];0<a--;){for(;n>D+o[1+g];){D+=o[1+g];g++;v=(v=m-D)>b?b:v;if((j=1<<(f=n-D))>a+1){j-=a+1;for(t=n;++f<v&&!((j<<=1)<=c[++t]);)j-=c[t]}D+f>h&&D<h&&(f=h-D);v=1<<f;o[1+g]=f;t=Array(v);for(j=0;j<v;j++)t[j]=new B;F=null==F?this.root=new L:F.next=new L;F.next=null;F.list=t;z[g]=t;0<g&&(x[g]=p,q.b=o[g],q.e=16+f,q.t=t,f=(p&(1<<D)-1)>>D-o[g],z[g-1][f].e=q.e,z[g-1][f].b=q.b,z[g-1][f].n=q.n,z[g-1][f].t=q.t)}q.b=n-D;s>=e?q.e=99:r[s]<d?(q.e=256>r[s]?16:15,q.n=r[s++]):(q.e=k[r[s]-d],q.n=i[r[s++]-d]);
j=1<<n-D;for(f=p>>D;f<v;f+=j)t[f].e=q.e,t[f].b=q.b,t[f].n=q.n,t[f].t=q.t;for(f=1<<n-1;0!=(p&f);f>>=1)p^=f;for(p^=f;(p&(1<<D)-1)!=x[g];)D-=o[g],g--}this.m=o[1];this.status=0!=A&&1!=m?1:0}}},z=function(a){for(;b<a;)m|=(v.length==K?-1:v.charCodeAt(K++)&255)<<b,b+=8},t=function(a){return m&q[a]},x=function(a){m>>=a;b-=a},I=function(a,e,c){var b,u,j;if(0==c)return 0;for(j=0;;){z(r);u=i.list[t(r)];for(b=u.e;16<b;){if(99==b)return-1;x(u.b);b-=16;z(b);u=u.t[t(b)];b=u.e}x(u.b);if(16==b)d&=32767,a[e+j++]=n[d++]=
u.n;else{if(15==b)break;z(b);f=u.n+t(b);x(b);z(g);u=F.list[t(g)];for(b=u.e;16<b;){if(99==b)return-1;x(u.b);b-=16;z(b);u=u.t[t(b)];b=u.e}x(u.b);z(b);h=d-u.n-t(b);for(x(b);0<f&&j<c;)f--,h&=32767,d&=32767,a[e+j++]=n[d++]=n[h++]}if(j==c)return c}k=-1;return j},N=function(a,e,d){var b,c,f,k,h,j,m,n=Array(316);for(b=0;b<n.length;b++)n[b]=0;z(5);j=257+t(5);x(5);z(5);m=1+t(5);x(5);z(4);b=4+t(4);x(4);if(286<j||30<m)return-1;for(c=0;c<b;c++)z(3),n[S[c]]=t(3),x(3);for(;19>c;c++)n[S[c]]=0;r=7;c=new W(n,19,19,
null,null,r);if(0!=c.status)return-1;i=c.root;r=c.m;k=j+m;for(b=f=0;b<k;)if(z(r),h=i.list[t(r)],c=h.b,x(c),c=h.n,16>c)n[b++]=f=c;else if(16==c){z(2);c=3+t(2);x(2);if(b+c>k)return-1;for(;0<c--;)n[b++]=f}else{17==c?(z(3),c=3+t(3),x(3)):(z(7),c=11+t(7),x(7));if(b+c>k)return-1;for(;0<c--;)n[b++]=0;f=0}r=9;c=new W(n,j,257,V,s,r);0==r&&(c.status=1);if(0!=c.status)return-1;i=c.root;r=c.m;for(b=0;b<m;b++)n[b]=n[b+j];g=6;c=new W(n,m,0,A,o,g);F=c.root;g=c.m;return 0==g&&257<j||0!=c.status?-1:I(a,e,d)},O=function(q,
G,v){var y,u;for(y=0;y<v&&!(e&&-1==k);){if(0<f){if(0!=k)for(;0<f&&y<v;)f--,h&=32767,d&=32767,q[G+y++]=n[d++]=n[h++];else{for(;0<f&&y<v;)f--,d&=32767,z(8),q[G+y++]=n[d++]=t(8),x(8);0==f&&(k=-1)}if(y==v)break}if(-1==k){if(e)break;z(1);0!=t(1)&&(e=!0);x(1);z(2);k=t(2);x(2);i=null;f=0}switch(k){case 0:u=q;var B=G+y,E=v-y,C=void 0,C=b&7;x(C);z(16);C=t(16);x(16);z(16);if(C!=(~m&65535))u=-1;else{x(16);f=C;for(C=0;0<f&&C<E;)f--,d&=32767,z(8),u[B+C++]=n[d++]=t(8),x(8);0==f&&(k=-1);u=C}break;case 1:if(null!=
i)u=I(q,G+y,v-y);else a:{u=q;B=G+y;E=v-y;if(null==a){for(var w=void 0,C=Array(288),w=void 0,w=0;144>w;w++)C[w]=8;for(;256>w;w++)C[w]=9;for(;280>w;w++)C[w]=7;for(;288>w;w++)C[w]=8;c=7;w=new W(C,288,257,V,s,c);if(0!=w.status){alert("HufBuild error: "+w.status);u=-1;break a}a=w.root;c=w.m;for(w=0;30>w;w++)C[w]=5;zip_fixed_bd=5;w=new W(C,30,0,A,o,zip_fixed_bd);if(1<w.status){a=null;alert("HufBuild error: "+w.status);u=-1;break a}j=w.root;zip_fixed_bd=w.m}i=a;F=j;r=c;g=zip_fixed_bd;u=I(u,B,E)}break;case 2:u=
null!=i?I(q,G+y,v-y):N(q,G+y,v-y);break;default:u=-1}if(-1==u)return e?0:-1;y+=u}return y};window.RawDeflate||(RawDeflate={});RawDeflate.inflate=function(a){var c;null==n&&(n=Array(65536));b=m=d=0;k=-1;e=!1;f=h=0;i=null;v=a;K=0;for(var j=Array(1024),g=[];0<(a=O(j,0,j.length));){var o=Array(a);for(c=0;c<a;c++)o[c]=String.fromCharCode(j[c]);g[g.length]=o.join("")}v=null;return g.join("")}})();(function(){var n,d,a,j,c=null,m,b,k,e,f,h,i,F,r,g,v,K,q,V,s,A,o,S,L,B,W,z,t,x,I,N,O,X,G,M,y,u,H,E,C,w,Q,aa,p,na,fa,ga,T,ha,oa,Y,ba,D,Z,ia,pa,ca=function(){this.dl=this.fc=0},qa=function(){this.extra_bits=this.static_tree=this.dyn_tree=null;this.max_code=this.max_length=this.elems=this.extra_base=0},R=function(a,e,c,l){this.good_length=a;this.max_lazy=e;this.nice_length=c;this.max_chain=l},Ia=function(){this.next=null;this.len=0;this.ptr=Array(8192);this.off=0},ra=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,
3,3,3,3,4,4,4,4,5,5,5,5,0],da=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Ja=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],wa=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],sa=[new R(0,0,0,0),new R(4,4,8,4),new R(4,5,16,8),new R(4,6,32,32),new R(4,4,16,16),new R(8,16,32,32),new R(8,16,128,128),new R(8,32,128,256),new R(32,128,258,1024),new R(32,258,258,4096)],ja=function(e){c[b+m++]=e;if(8192==b+m&&0!=m){var f;null!=n?(e=n,n=n.next):e=new Ia;e.next=null;e.len=e.off=0;null==d?
d=a=e:a=a.next=e;e.len=m-b;for(f=0;f<e.len;f++)e.ptr[f]=c[b+f];m=b=0}},ka=function(a){a&=65535;8190>b+m?(c[b+m++]=a&255,c[b+m++]=a>>>8):(ja(a&255),ja(a>>>8))},la=function(){v=(v<<5^e[o+3-1]&255)&8191;K=i[32768+v];i[o&32767]=K;i[32768+v]=o},U=function(a,e){J(e[a].fc,e[a].dl)},xa=function(a,e,c){return a[e].fc<a[c].fc||a[e].fc==a[c].fc&&Q[e]<=Q[c]},ya=function(a,e,c){var l;for(l=0;l<c&&pa<ia.length;l++)a[e+l]=ia.charCodeAt(pa++)&255;return l},za=function(a){var c=W,b=o,l,d=A,f=32506<o?o-32506:0,k=o+
258,j=e[b+d-1],h=e[b+d];A>=x&&(c>>=2);do if(l=a,!(e[l+d]!=h||e[l+d-1]!=j||e[l]!=e[b]||e[++l]!=e[b+1])){b+=2;l++;do;while(e[++b]==e[++l]&&e[++b]==e[++l]&&e[++b]==e[++l]&&e[++b]==e[++l]&&e[++b]==e[++l]&&e[++b]==e[++l]&&e[++b]==e[++l]&&e[++b]==e[++l]&&b<k);l=258-(k-b);b=k-258;if(l>d){S=a;d=l;if(258<=l)break;j=e[b+d-1];h=e[b+d]}}while((a=i[a&32767])>f&&0!=--c);return d},ta=function(){var a,b,c=65536-B-o;if(-1==c)c--;else if(65274<=o){for(a=0;32768>a;a++)e[a]=e[a+32768];S-=32768;o-=32768;g-=32768;for(a=
0;8192>a;a++)b=i[32768+a],i[32768+a]=32768<=b?b-32768:0;for(a=0;32768>a;a++)b=i[a],i[a]=32768<=b?b-32768:0;c+=32768}L||(a=ya(e,o+B,c),0>=a?L=!0:B+=a)},Ka=function(a,c,f){var l;if(!j){if(!L){r=F=0;var P,h;if(0==X[0].dl){M.dyn_tree=I;M.static_tree=O;M.extra_bits=ra;M.extra_base=257;M.elems=286;M.max_length=15;M.max_code=0;y.dyn_tree=N;y.static_tree=X;y.extra_bits=da;y.extra_base=0;y.elems=30;y.max_length=15;y.max_code=0;u.dyn_tree=G;u.static_tree=null;u.extra_bits=Ja;u.extra_base=0;u.elems=19;u.max_length=
7;for(h=P=u.max_code=0;28>h;h++){na[h]=P;for(l=0;l<1<<ra[h];l++)aa[P++]=h}aa[P-1]=h;for(h=P=0;16>h;h++){fa[h]=P;for(l=0;l<1<<da[h];l++)p[P++]=h}for(P>>=7;30>h;h++){fa[h]=P<<7;for(l=0;l<1<<da[h]-7;l++)p[256+P++]=h}for(l=0;15>=l;l++)H[l]=0;for(l=0;143>=l;)O[l++].dl=8,H[8]++;for(;255>=l;)O[l++].dl=9,H[9]++;for(;279>=l;)O[l++].dl=7,H[7]++;for(;287>=l;)O[l++].dl=8,H[8]++;Aa(O,287);for(l=0;30>l;l++)X[l].dl=5,X[l].fc=Ba(l,5);Ca()}for(l=0;8192>l;l++)i[32768+l]=0;z=sa[t].max_lazy;x=sa[t].good_length;W=sa[t].max_chain;
g=o=0;B=ya(e,0,65536);if(0>=B)L=!0,B=0;else{for(L=!1;262>B&&!L;)ta();for(l=v=0;2>l;l++)v=(v<<5^e[l]&255)&8191}d=null;b=m=0;3>=t?(A=2,s=0):(s=2,V=0);k=!1}j=!0;if(0==B)return k=!0,0}if((l=Da(a,c,f))==f)return f;if(k)return l;if(3>=t)for(;0!=B&&null==d;){la();0!=K&&32506>=o-K&&(s=za(K),s>B&&(s=B));if(3<=s)if(h=ea(o-S,s-3),B-=s,s<=z){s--;do o++,la();while(0!=--s);o++}else o+=s,s=0,v=e[o]&255,v=(v<<5^e[o+1]&255)&8191;else h=ea(0,e[o]&255),B--,o++;h&&(ma(0),g=o);for(;262>B&&!L;)ta()}else for(;0!=B&&null==
d;){la();A=s;q=S;s=2;0!=K&&A<z&&32506>=o-K&&(s=za(K),s>B&&(s=B),3==s&&4096<o-S&&s--);if(3<=A&&s<=A){h=ea(o-1-q,A-3);B-=A-1;A-=2;do o++,la();while(0!=--A);V=0;s=2;o++;h&&(ma(0),g=o)}else 0!=V?ea(0,e[o-1]&255)&&(ma(0),g=o):V=1,o++,B--;for(;262>B&&!L;)ta()}0==B&&(0!=V&&ea(0,e[o-1]&255),ma(1),k=!0);return l+Da(a,l+c,f-l)},Da=function(a,e,h){var l,f,k;for(l=0;null!=d&&l<h;){f=h-l;f>d.len&&(f=d.len);for(k=0;k<f;k++)a[e+l+k]=d.ptr[d.off+k];d.off+=f;d.len-=f;l+=f;0==d.len&&(f=d,d=d.next,f.next=n,n=f)}if(l==
h)return l;if(b<m){f=h-l;f>m-b&&(f=m-b);for(k=0;k<f;k++)a[e+l+k]=c[b+k];b+=f;l+=f;m==b&&(m=b=0)}return l},Ca=function(){var a;for(a=0;286>a;a++)I[a].fc=0;for(a=0;30>a;a++)N[a].fc=0;for(a=0;19>a;a++)G[a].fc=0;I[256].fc=1;Y=T=ha=oa=D=Z=0;ba=1},ua=function(a,e){for(var c=E[e],b=e<<1;b<=C;){b<C&&xa(a,E[b+1],E[b])&&b++;if(xa(a,c,E[b]))break;E[e]=E[b];e=b;b<<=1}E[e]=c},Aa=function(a,e){var b=Array(16),c=0,d;for(d=1;15>=d;d++)c=c+H[d-1]<<1,b[d]=c;for(c=0;c<=e;c++)d=a[c].dl,0!=d&&(a[c].fc=Ba(b[d]++,d))},
va=function(a){var e=a.dyn_tree,b=a.static_tree,c=a.elems,d,f=-1,h=c;C=0;w=573;for(d=0;d<c;d++)0!=e[d].fc?(E[++C]=f=d,Q[d]=0):e[d].dl=0;for(;2>C;)d=E[++C]=2>f?++f:0,e[d].fc=1,Q[d]=0,D--,null!=b&&(Z-=b[d].dl);a.max_code=f;for(d=C>>1;1<=d;d--)ua(e,d);do d=E[1],E[1]=E[C--],ua(e,1),b=E[1],E[--w]=d,E[--w]=b,e[h].fc=e[d].fc+e[b].fc,Q[h]=Q[d]>Q[b]+1?Q[d]:Q[b]+1,e[d].dl=e[b].dl=h,E[1]=h++,ua(e,1);while(2<=C);E[--w]=E[1];h=a.dyn_tree;d=a.extra_bits;var c=a.extra_base,b=a.max_code,k=a.max_length,j=a.static_tree,
i,g,n,m,o=0;for(g=0;15>=g;g++)H[g]=0;h[E[w]].dl=0;for(a=w+1;573>a;a++)if(i=E[a],g=h[h[i].dl].dl+1,g>k&&(g=k,o++),h[i].dl=g,!(i>b))H[g]++,n=0,i>=c&&(n=d[i-c]),m=h[i].fc,D+=m*(g+n),null!=j&&(Z+=m*(j[i].dl+n));if(0!=o){do{for(g=k-1;0==H[g];)g--;H[g]--;H[g+1]+=2;H[k]--;o-=2}while(0<o);for(g=k;0!=g;g--)for(i=H[g];0!=i;)d=E[--a],d>b||(h[d].dl!=g&&(D+=(g-h[d].dl)*h[d].fc,h[d].fc=g),i--)}Aa(e,f)},Ea=function(a,e){var b,c=-1,d,f=a[0].dl,h=0,k=7,i=4;0==f&&(k=138,i=3);a[e+1].dl=65535;for(b=0;b<=e;b++)if(d=f,
f=a[b+1].dl,!(++h<k&&d==f))(h<i?G[d].fc+=h:0!=d?(d!=c&&G[d].fc++,G[16].fc++):10>=h?G[17].fc++:G[18].fc++,h=0,c=d,0==f)?(k=138,i=3):d==f?(k=6,i=3):(k=7,i=4)},Fa=function(a,e){var b,d=-1,c,f=a[0].dl,h=0,k=7,i=4;0==f&&(k=138,i=3);for(b=0;b<=e;b++)if(c=f,f=a[b+1].dl,!(++h<k&&c==f)){if(h<i){do U(c,G);while(0!=--h)}else 0!=c?(c!=d&&(U(c,G),h--),U(16,G),J(h-3,2)):10>=h?(U(17,G),J(h-3,3)):(U(18,G),J(h-11,7));h=0;d=c;0==f?(k=138,i=3):c==f?(k=6,i=3):(k=7,i=4)}},ma=function(a){var b,c,d,f;f=o-g;ga[oa]=Y;va(M);
va(y);Ea(I,M.max_code);Ea(N,y.max_code);va(u);for(d=18;3<=d&&0==G[wa[d]].dl;d--);D+=3*(d+1)+14;b=D+3+7>>3;c=Z+3+7>>3;c<=b&&(b=c);if(f+4<=b&&0<=g){J(0+a,3);Ga();ka(f);ka(~f);for(d=0;d<f;d++)ja(e[g+d])}else if(c==b)J(2+a,3),Ha(O,X);else{J(4+a,3);f=M.max_code+1;b=y.max_code+1;d+=1;J(f-257,5);J(b-1,5);J(d-4,4);for(c=0;c<d;c++)J(G[wa[c]].dl,3);Fa(I,f-1);Fa(N,b-1);Ha(I,N)}Ca();0!=a&&Ga()},ea=function(a,e){h[T++]=e;0==a?I[e].fc++:(a--,I[aa[e]+256+1].fc++,N[(256>a?p[a]:p[256+(a>>7)])&255].fc++,f[ha++]=a,
Y|=ba);ba<<=1;0==(T&7)&&(ga[oa++]=Y,Y=0,ba=1);if(2<t&&0==(T&4095)){var b=8*T,d=o-g,c;for(c=0;30>c;c++)b+=N[c].fc*(5+da[c]);b>>=3;if(ha<parseInt(T/2)&&b<parseInt(d/2))return!0}return 8191==T||8192==ha},Ha=function(a,e){var b,c=0,d=0,k=0,i=0,g,j;if(0!=T){do{0==(c&7)&&(i=ga[k++]);b=h[c++]&255;if(0==(i&1))U(b,a);else if(g=aa[b],U(g+256+1,a),j=ra[g],0!=j&&(b-=na[g],J(b,j)),b=f[d++],g=(256>b?p[b]:p[256+(b>>7)])&255,U(g,e),j=da[g],0!=j)b-=fa[g],J(b,j);i>>=1}while(c<T)}U(256,a)},J=function(a,b){r>16-b?(F|=
a<<r,ka(F),F=a>>16-r,r+=b-16):(F|=a<<r,r+=b)},Ba=function(a,b){var e=0;do e|=a&1,a>>=1,e<<=1;while(0<--b);return e>>1},Ga=function(){8<r?ka(F):0<r&&ja(F);r=F=0};window.RawDeflate||(RawDeflate={});RawDeflate.deflate=function(b,k){var g,l;ia=b;pa=0;"undefined"==typeof k&&(k=6);(g=k)?1>g?g=1:9<g&&(g=9):g=6;t=g;L=j=!1;if(null==c){n=d=a=null;c=Array(8192);e=Array(65536);f=Array(8192);h=Array(32832);i=Array(65536);I=Array(573);for(g=0;573>g;g++)I[g]=new ca;N=Array(61);for(g=0;61>g;g++)N[g]=new ca;O=Array(288);
for(g=0;288>g;g++)O[g]=new ca;X=Array(30);for(g=0;30>g;g++)X[g]=new ca;G=Array(39);for(g=0;39>g;g++)G[g]=new ca;M=new qa;y=new qa;u=new qa;H=Array(16);E=Array(573);Q=Array(573);aa=Array(256);p=Array(512);na=Array(29);fa=Array(30);ga=Array(1024)}for(var m=Array(1024),o=[];0<(g=Ka(m,0,m.length));){var q=Array(g);for(l=0;l<g;l++)q[l]=String.fromCharCode(m[l]);o[o.length]=q.join("")}ia=null;return o.join("")}})();(function(){var n,d,a,j,c,m,b;c=!1;n=function(a){var b,c,d;b=0;for(d in a)c=a[d],b+=c.charCodeAt(0)*(d+1);return b%10};b=function(a){var b,a=RawDeflate.deflate(a),a=Base64.toBase64(a);b=n(a);a+=b;(window.location.search||""!==window.location.search)&&"function"===typeof history.replaceState&&history.replaceState({},"","/");history.replaceState?"function"===typeof history.replaceState&&history.replaceState({},"","/#"+a):window.location.hash=a;!0===c&&$("#shorturl").fadeOut();return!0};m=function(a){$("#error").html(null!=
a?a:'<b>Sorry, it seems Lalo.li - Short Voice Message Service does not work correctly on your plattform.</b><br>Please download the latest desktop version of <a href="https://www.google.com/chrome">Chrome</a> or <a href="http://www.mozilla.org/en-US/firefox/new/">Firefox</a>!<br><b>Technical Background</b>: Lalo.li works with <a href="https://developer.mozilla.org/En/Using_web_workers">Webworkers</a> and <a href="https://developer.mozilla.org/en/JavaScript_typed_arrays">TypedArrays</a>.<br>These are cutting edge HTML5 features currently only <i>fully</i> supported by the browsers mentioned above.').fadeIn();
return!1};d=function(){if(!0===window.speak_error)return m()};a=function(){var a;a={text:$("#text").val(),amplitude:parseInt($("#amplitude").val()),wordgap:parseInt($("#wordgap").val()),pitch:parseInt($("#pitch").val()),speed:parseInt($("#speed").val())};return b(JSON.stringify(a))};j=function(a,b,c,h,i){null==b&&(b=null);null==c&&(c=null);null==h&&(h=null);null==i&&(i=null);a=(null!=a?a:$("#text").val())||"Please enter your message.";b=null!=b?b:parseInt($("#amplitude").val())||100;c=null!=c?c:parseInt($("#wordgap").val())||
0;h=null!=h?h:parseInt($("#pitch").val())||50;i=null!=i?i:parseInt($("#speed").val())||175;try{return speak(a,{amplitude:b,wordgap:c,pitch:h,speed:i})}catch(j){return window.speak_error=!0}finally{return d(),a}};$(function(){$(".dial").knob();return $(window).load(function(){var b,d,f;window.onerror=function(){return m()};$.browser.opera&&m();(b=window.location.hash||window.location.search)?(d=decodeURIComponent(b.replace(/^(#|\?)/,"")),b=d.slice(0,d.length-2+1||9E9),d=parseInt(d.slice(d.length-1,
d.length+1||9E9)),d!==n(b)?$("#text").val(j("Something got corrupted!")):(b=Base64.fromBase64(b),b=RawDeflate.inflate(b),f=JSON.parse(b),$("#text").val(f.text),$("#amplitude").val(parseInt(f.amplitude)),$("#amplitude").trigger("configure"),$("#wordgap").val(parseInt(f.wordgap)),$("wordgap").trigger("configure"),$("#pitch").val(parseInt(f.pitch)),$("#pitch").trigger("configure"),$("#speed").val(parseInt(f.speed)),$("#speed").trigger("configure"),window.setTimeout(function(){return j(f.text)},250))):
window.setTimeout(function(){return j($("#text").val())},500);""===$("#text").val()&&$("#text").val("Please enter your message.");$("#controllarea").css("visibility","visible").hide().fadeIn("slow");$("#text").focus(function(){return this.select()});$("#text").get(0).focus();window.setTimeout(function(){return j("i love you")},9E5);$("#speak").on("submit",function(){try{return j()}catch(a){return m()}finally{return false}});$("#text").on("keyup",function(){return a()});$("#text").on("webkitspeechchange",
function(b){b.stopPropagation();a();return j()});$("body").on("speechchange",function(b){b.stopPropagation();a();return j()});$(".dial").trigger("configure",{release:function(){a();return console.log("release in dial")}});$("#twitter").on("click",function(){return this.href="http://twitter.com/intent/tweet?text="+encodeURIComponent("Voice Message")+"&url=http://www.lalo.li/?"+encodeURIComponent(window.location.hash.slice(1)||window.location.search.slice(1))});$("#gplus").on("click",function(){return this.href=
"https://plus.google.com/share?url=http://www.lalo.li/?"+encodeURIComponent(window.location.hash.slice(1)||window.location.search.slice(1))});$("#facebook").on("click",function(){return this.href="https://www.facebook.com/sharer.php?u=http://www.lalo.li/?"+encodeURIComponent(window.location.hash.slice(1)||window.location.search.slice(1))+"&t="+encodeURIComponent("Voice Message")});return $("#bitly").on("click",function(){$.getJSON("http://api.bit.ly/v3/shorten?login=laloli&&apiKey=R_f29b99469604b70e8c5898e05ec09daa&longUrl=http://www.lalo.li/?"+
encodeURIComponent(window.location.hash.slice(1)||window.location.search.slice(1))+"&format=json&callback=?",function(a){var b;if(a!=null&&(b=a.data)!=null&&b.url){c=true;return $("#shorturl").fadeOut().fadeIn().html('Short-URL: <a target="_blank" href="'+a.data.url+'">'+a.data.url+"</a>")}});return false})})})}).call(this);
